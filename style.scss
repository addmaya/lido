/*
Theme Name: NIDO
Author: Arthur Nakkaka
Author URI: http://addmaya.com/
*/

@import 'reset';
/*variables*/
$browser-context: 16;
$placeholderColor: lighten(grey,3%);

$redA: #C6006F;
$redB: #9C0058;
$redC: #7A003C;
$blackA: #231F20;
$blackB: #58595B;
$blackC: #A7A9AC;
$white: lighten($blackC,20%);

$easeOutExpo: cubic-bezier(0, 0.5, 0, 1);
$easeInOutExpo: cubic-bezier(1,0, 0, 1);
$easeOutBack: cubic-bezier(0.42, 0, 0, 1.46);
$easeOutQuart: cubic-bezier(0.44, 0.03, 0.05, 0.99);
$easeInThief: cubic-bezier(0.22, 0, 0, 1);

/*functions*/
@mixin image($image){background-image: url('images/'+$image)}
@mixin device($device){
  @if $device == xs {@media only screen and (max-width: 767px){@content}}
  @else if $device == xs-landscape{@media only screen and (max-width: $tablet - 1) and (orientation : landscape){@content}}
  @else if $device == sm {@media only screen and (max-width: 959px){@content}}
  @else if $device == md{@media only screen and (max-width: 1200px){@content}}
  @else if $device == lg{@media only screen and (max-width: 1600px){@content}}
  @else if $device == xlg{@media only screen and (min-width:1601px){@content}}
}
@function em($pixels, $context: $browser-context) {
  @return #{$pixels/$context}em;
}
@mixin prefix($map, $vendors: webkit moz ms o) {
  @each $prop, $value in $map {
        @if $vendors {
          @each $vendor in $vendors {
            #{"-" + $vendor + "-" + $prop}: #{$value};
          }
        }
        #{$prop}: #{$value};
  }
}
@mixin after($width:100%, $height: 100%, $bkg: '#fff'){content:"";position: absolute; width: $width; height: $height; top: 0; left: 0; background-color: $bkg}

@mixin scale2D($x,$y){
  @include prefix((transform:scale($x,$y)));
}
@mixin translateX($x){
  @include prefix((transform:translateX($x)));
}
@mixin translateY($y){
  @include prefix((transform:translateY($y)));
}
@mixin txnTransform($seconds, $function: 'ease'){
  $t: $seconds * 1s;
  @include prefix((transition: transform $t $function));
}
@mixin txnOpacity($seconds){
  $t: $seconds * 1s;
  @include prefix((transition: opacity $t ease));
}
@mixin txnDelay($seconds){
  $delay: $seconds * 1s;
  @include prefix((transition-delay: $delay));
}

@mixin animation($name, $duration, $delay, $timing, $mode){
   $t: $duration * 1s;
   $d: $delay * 1s;
   animation: $name $t $d $timing $mode;
}

@mixin keyframes($animationName) {
  @-webkit-keyframes #{$animationName} {@content;}
  @-moz-keyframes #{$animationName} {@content;}
  @-o-keyframes #{$animationName} {@content;}
  @keyframes #{$animationName} {@content;}
}
@mixin bkg($color: '#fff'){background-color: $color;}
@mixin box($width: 0, $height: 0){width: $width; height: $height}

@mixin clear{&:after {content: ""; display: table; clear: both}}
@mixin center{display: block; margin-left: auto; margin-right: auto}
@mixin cover{background-size: cover; background-position: center; background-repeat: no-repeat;}
@mixin contain{background-size: contain; background-position: center; background-repeat: no-repeat;}
@mixin resetPivot{@include prefix((transform-origin: 0 0))}
@mixin relative{position: relative}
@mixin absolute{position: absolute}
@mixin superscript{vertical-align:super; font-size:75%}
@mixin canvas{width:100%; height: 100%}
@mixin rhombus{-webkit-clip-path: polygon(50% 0%, 100% 50%, 50% 100%, 0% 50%); clip-path: polygon(50% 0%, 100% 50%, 50% 100%, 0% 50%)}

@keyframes fadeIn {
  from {opacity:0}
  to {opacity:1}
}
@keyframes fadeInUp {
  from {@include prefix((transform: translate3d(0, 100%, 0))); opacity: 0;}
  to {@include prefix((transform: none)); opacity: 1}
}
@keyframes fadeInDown {
  from {@include prefix((transform: translate3d(0, -100%, 0))); opacity: 0;}
  to {@include prefix((transform: none)); opacity: 1}
}
@keyframes fadeInLeft {
  from {@include prefix((transform: translate3d(-100%, 0, 0))); opacity: 0;}
  to {@include prefix((transform: none)); opacity: 1}
}
@keyframes fadeOutUp {
  from {opacity: 1}
  to {@include prefix((transform: translate3d(0, -100%, 0))); opacity: 0;}
}
@keyframes fadeOutRight {
  from {opacity: 1}
  to {@include prefix((transform: translate3d(100%, 0, 0))); opacity: 0;}
}
@keyframes slideInDown {
  from {@include prefix((transform: translate3d(0, -100%, 0)))}
  to {@include prefix((transform: none))}
}
@keyframes slideInUp {
  from {@include prefix((transform: translate3d(0, 100%, 0)))}
  to {@include prefix((transform: none))}
}
@keyframes slideOutUp {
  from {@include prefix((transform: translate3d(0, 0, 0)))}
  to {visibility: hidden; @include prefix((transform: translate3d(0, -100%, 0)))}
}
@keyframes slideOutRight {
  from {@include prefix((transform: translate3d(0, 0, 0)))}
  to {visibility: hidden; @include prefix((transform: translate3d(100%, 0, 0)))}
}
@keyframes slideInLeft {
  from {@include prefix((transform: translate3d(-110%, 0, 0)))}
  to {@include prefix((transform: none))}
}
@keyframes scaleInLeft {
  from {transform: scale3d(0, 1, 1);}
  to {transform: scale3d(1, 1, 1)}
}
@keyframes kenBurns{
  from {transform: scale3d(1, 1, 1);}
  to {transform: scale3d(1.5, 1.5, 1.5)}
}

@mixin line{content:""; height: 2px; width: 50%; background-color: $redA; position: absolute; bottom: 3px; left: 0; @include resetPivot; @include txnTransform(0.3,ease); @include scale2D(0,1)}

/*defaults*/
html, body{width:100%; height:100%;}
body{font-family: "acumin-pro",sans-serif; color:#717273; font-weight: 400;
  &.single-partner{background-color: #eaeaea}
}
h1,h2,h3{color: #393637;
  .t-dark &{color: $white;
    a{
      &:hover{color: $white}
      &:after{background-color: $white}
    }
  }
  a{display: block; position: relative;
    span{display: block; @include txnTransform(0.4,'ease')}
    &:after{@include line}
    &:hover{color: $redB;
      &:after{@include scale2D(1,1)}
      span{@include translateY(-16px)}
    } 
  }
}
h1{font-size:em(36); font-weight:600; line-height: 1.3; letter-spacing: -1px}
h2{font-size:em(20); font-weight:500; line-height:1.4; letter-spacing:0.5px}
h3{font-weight: 600; font-size:em(16); line-height: 1.3}
h4{font-weight: 600; font-size:em(14);}
a{color: inherit}
p{line-height:1.7; font-size:0.875em}
blockquote{background: url('images/quote-open.svg') left top/20% 20% no-repeat, url('images/quote-close.svg') right bottom/20% 20% no-repeat;}
strong{font-weight: 600}
em{font-family: 'Georgia'; font-style: italic;}
::-webkit-input-placeholder {color: $placeholderColor}
::-moz-placeholder {color: $placeholderColor}
:-ms-input-placeholder{color: $placeholderColor}
:-moz-placeholder {color: $placeholderColor}

/*utilities*/
.u-half{width: 50%; float: left;
  &.s--right{float: right}
  @include device(xs){width: auto; float: none}
}
.u-third{width: percentage(1/3); float: left;
  @include device(xs){width: auto; float: none}
}
.u-fifth{width: percentage(1/5); float: left;
  @include device(xs){width: auto; float: none}
}
.u-fourth{width: percentage(1/4); float: left;
  @include device(xs){width: auto; float: none}
}
.u-twothird{width: percentage(2/3); float: left;
  @include device(xs){width: auto; float: none}
}
.u-threefourth{width: percentage(3/4); float: left;
  @include device(xs){width: auto; float: none}
}

.t-dark{color: $white}

.u-clear{@include clear}
.u-oh{overflow: hidden}
.u-superscript{@include superscript}
.u-right{text-align:right}
.u-center{text-align:center}
.u-wrap{padding:em(24)}
.u-pl-m{padding-left:1.5em}
.u-pl-l{padding-left:3em}
.u-pt-l{padding-top: 3em}
.u-pt-m{padding-top: 1.5em}
.u-pb-m{padding-bottom: 1.5em}
.u-pt-xl{padding-top: 6em}
.u-block{display: block;}
.u-white{color:$white}
.u-uppercase{text-transform: uppercase;}

/*objects*/
.o-box{width:87%; @include center; @include clear}
.o-table{display: table; width: 100%; height: 100%}
.o-table__cell{display: table-cell; vertical-align: middle}
.o-icon{width: em(24); height: em(24); display: inline-block; background-size: contain; background-repeat: no-repeat; background-position:center;
  &.s--play{@include image('play.svg')}
}
.o-circle{width:em(40); height:em(40); fill:transparent;  stroke-width: 1; stroke: $redA;
  circle{stroke-dasharray:70}
  .o-circle__outer{stroke-dashoffset: 70; transition:stroke-dashoffset 1s $easeOutExpo, stroke 0.5s; stroke-width:1.5; stroke:$blackA}
  g{transition: transform 0.3s ease}
  .o-circle__inner{stroke:$redA}
}

.o-button {display: inline-block;padding: 0.75em; padding-left: 0; font-size:em(14); color: $redA; @include clear;
  i{border:solid 1px; border-radius: 50%; float: left; @include box(em(30), em(30))}
  span{float: left; @include relative; top: em(12); margin-left:em(12); position: relative; @include txnTransform(0.3);
    &:after{content:""; position: absolute; left: em(-16); top: em(8); background-color:$redA; width:10px; height:1px; @include resetPivot; @include scale2D(0,1); @include txnTransform(0.3)}
  }
  strong{font-size: 0.75em; padding-top: 8px; display: inline-block}
  section{@include box(em(96), em(96)); float: left; border-radius: 50%; @include bkg(grey); overflow: hidden;
    figure{@include cover; @include canvas; @include txnTransform(0.5); @include prefix((transform: translate(0,0) scale(1.3, 1.3)))}
  }
  .o-circle{float:left}

  &.s--circular{
    div{float: left;@include relative; top: em(36); margin-left: em(6); padding-top:0}
  }
  &.s--vertical{
    .o-circle{@include prefix((transform: rotate(90deg)))}
  }
  &.s--block{display: block; padding-top: 0; padding-bottom: 1em}
  &.s--multiline{
    .o-icon{@include txnTransform(0.5, ease); margin-bottom: 0;}
    svg,i{display: block; float: none; @include center; margin-bottom: em(12)}
    span{display: block; float: none; margin:0;
      &:after{top: -24px; left:50%; width: 18px; @include prefix((transform: scale(1,0) rotate(90deg)))}
    }
    &:hover{
      .o-icon{@include translateY(em(12))}
      span{@include translateY(em(12));
        &:after{@include prefix((transform:scale(1,1) rotate(90deg)))}
      }
    }
  }
  &.s--med{font-size: 1.25em; line-height: 1.2;
    i{border-width: 2px}
  }
  &:hover{
    figure{@include prefix((transform: translate(12px,0) scale(1.3, 1.3)))}
    span{@include translateX(em(12));
      &:after{@include scale2D(1,1)}
    }
    .o-circle{
      g{@include translateX(em(12))}
      .o-circle__outer{stroke-dashoffset: 0}
    }
  }
  .t-dark &{color: $white; font-weight: 300;
    .o-circle{stroke: $white}
    span:after{background-color: $white}
    &:hover{
      .o-circle__outer{stroke: $white;}
    }
  }
}
.o-stat__box{text-align: center;}
.o-stat{width: 17em; height: 17em; position: relative; display: inline-block; 
  span{font-weight: 600; display: block; font-size: em(36); color: $redA;}
  p{padding-top: em(24); padding-right: em(12); font-size:em(13); font-family: 'Georgia'; font-style: italic; line-height: 1.6;}
  section{width:70%; @include center}
  .o-table{background-color:#f2f2f2; @include rhombus}
  .o-rhombus__pattern{z-index: -3; opacity: 0.3; background-size: 20%}
}
.o-button-rhombus{display: block;
  figure{@include box(em(240), em(240)); @include bkg(grey); @include rhombus;}
}
@mixin rhombusHover{
  .o-rhombus__image{@include translateX(12px);
    &:after{@include scale2D(1,1)}
    &:before{@include prefix((transform: rotate(45deg) translate(-58%, 58%)))}
  }
}
.o-rhombus{@include rhombus; background-color: $blackC; display: block; @include txnTransform(0.5, ease);
  &.s--xlarge{@include box(em(480), em(480))}
  &.s--large{@include box(em(360), em(360))}
  &.s--medium{@include box(em(240), em(240))}

  &.s--small{@include box(em(150), em(150))}
}
.o-rhombus__image{height: 100%;background-position: center;background-size: cover; background-repeat: no-repeat; @include txnTransform(0.5, ease); position: relative;
  &:before{content:""; @include canvas; top: 0; left:0; position: absolute; z-index:1; background-color:$redC; @include prefix((transform: rotate(45deg) translate(-85%, 85%))); @include txnTransform(0.3, ease)}
  &:after{content: ""; position: absolute; left: 0; top: 50%; z-index:2; width:30%; height: 2px; background-color: $white; @include resetPivot; @include txnTransform(0.5, $easeOutExpo); @include scale2D(0,1)}
}
.o-rhombus__pattern{position: absolute; z-index:0; @include canvas; top: 5%; @include scale2D(0.7,0.7); @include image('pattern-1.png'); background-size:10%; 
  -webkit-clip-path: polygon(0 0, 100% 100%, 100% 0);
  clip-path: polygon(0 0, 100% 100%, 100% 0);
}
.o-rhombus__list{@include clear; padding-top: 3em;
  .o-button{text-align: center; line-height:1.3}
  span{display: block; float: none}
  .o-circle{display: inline-block; float: none}
}
.o-rhombus-button{display: block; text-align: center; position: relative;
  .o-rhombus{@include center}
  &.s--patterned{top: em(24);
    .o-rhombus{position: relative; z-index:2}
  }
  &:hover{
    .o-rhombus{@include translateX(em(18))}
    @include rhombusHover;
  }
  &.is-passive{
    &:hover{
      .o-rhombus{@include translateX(0)}
      .o-rhombus__image{@include translateX(0);
        &:before, &:after{display: none}
      }
    }
  }
}
.o-arrow{stroke: $redA; fill: transparent; stroke-width: 2; stroke-dasharray: 70; stroke-dashoffset:0; @include prefix((transition: stroke-dashoffset 0.5s 'ease'));
}
.o-diamond{@include box(em(166), em(166)); @include bkg($blackA); @include prefix((transform: rotate(-45deg))); overflow:hidden; @include cover;
}
.o-div{position: absolute; width:50%; height:100%; background-color:#830a46; z-index:-1;
  &.s--right{background-color:#7A003C; left: 50%}
}
.o-section{padding:em(114) 0 em(144); 
  .o-crumb{margin-bottom:em(56)}
  h1{margin-bottom: em(24)}
  &:last-of-type{padding-bottom:12px; background-color: red}
  &.s--med{padding:em(72) 0}
  &.s--bottom__clear{padding-bottom:0}
  &.s--bottom__med{padding-bottom:4em}
  &.c-docs{position: relative;
    &:after{@include after(100%, 100%, #F7F7F7); z-index:-5}
  }
  &.u-pb-0{padding-bottom:0}
  &.u-pb-l{padding-bottom: 3em}
  &.c-stats{padding: em(56) 0}

  &.s--cover{position: relative;
    &:after{content:""; position: absolute; top:0; left: 0; z-index:-2; @include canvas}
  }
  &.c-eastafrica{
    &:after{background-color: #dbdbdb}
    .o-section__cover{@include image('illustrations/ea_map.jpg')}
  }

  &#education{
    &:after{background-color:#f0f0f0}
    .o-section__cover{@include image('illustrations/education_0.jpg'); background-position:right top;}
    .s--patterned{top:0}
  }

  &#livelihood{
    &:after{background-color:#950054}
    .o-section__cover{@include image('illustrations/livelihoods.jpg'); background-position:right center;}
  }

  &#capacity-building{
    &:after{background-color:#f3f3f3}
    .o-section__cover{@include image('illustrations/capacity.jpg'); background-position:right top;}
  }

  &#stories{
    &:after{background-color:#eeeeee}
    .o-section__cover{@include image('illustrations/stories.jpg'); background-position:right top; opacity:0.3}
  }

  &#networks{
    &:after{background-color:#f5f6f6}
    .o-section__cover{@include image('illustrations/partnership.jpg'); background-position:left top;}
  }

  &#updates{padding:12em 0 5em;
    &:after{background-color:#efefef}
    .o-section__cover{@include image('illustrations/media.jpg'); background-position:right top; opacity:0.3}
    .is-booting &{
      .o-section__cover{@include animation(slideInUp, 1, 0.3, $easeInThief, both)}
      .o-article__grid{@include animation(slideInUp, 1, 0.4, $easeInThief, both)}
    }
  }

  &#documents{
    &:after{background-color:#f5f5f5}
    .o-section__cover{@include image('illustrations/publications.jpg'); background-position:right top; background-size:50%;}
  }

}
.o-section__cover{@include contain; @include canvas; position: absolute; z-index:-1; top:0; left: 0}

.o-crumb{@include clear; 
  div{float: left; opacity:0.65}
  &.s--updates{font-size: em(24); color: $redA; margin-bottom: 2.5em;
    div{opacity: 1}
    .o-crumb__line{background-color: $redA}
  }
}
.o-crumb__title{font-size: em(12);}
.o-crumb__line{@include box(50%, 1px); @include bkg(#cbcbcb); margin:0 12px; @include relative; top:8px}
.o-crumb__circle{@include box(4px,4px); border:solid 1px; border-radius:50%; @include relative; top:6px}

.o-author{@include clear; display: inline-block;
  figure{@include box(56px, 56px); border-radius: 50%; @include bkg($blackA); float: left; @include cover;}
  section{float: left; padding-left: em(12); @include relative; top: 10px}
  strong{display: block; padding-bottom: em(6)}
  em{display: block; font-size: 75%}
}

.o-splash{@include relative; color: $white; padding-bottom: 54.25%;
  &.s--video{
    .o-box{width: 60%}
    .o-splash__content{text-align: left}
    .o-splash__figure{cursor:default}
    h2{margin: em(18) 0;}
    .o-icon{width: em(72); height: em(72); cursor: pointer; @include txnOpacity(0.5);
      &:hover{opacity:0.6}
    }
  }
  
}
.o-splash__figure{@include bkg(grey); position: absolute; @include canvas; top: 0; z-index:1;@include cover; cursor: pointer}
.o-splash__tint{@include absolute; @include canvas; z-index:2; background: linear-gradient(to bottom, rgba(0, 0, 0, 0), #000); text-align:center; }
.o-splash__content{position: absolute; bottom: 5%; width: 100%; z-index: 3; text-align: center;
  h2{color: inherit}
  blockquote{width: 60%; margin-bottom: em(24); @include center;
    p{font-size: 1.5em; font-weight:400; line-height: 1.5;}
    .o-line{margin-top: em(24)}
  }
  .o-author{text-align: left}
}
.o-splash__player{position: absolute; @include canvas; z-index: 5; background-color: black; visibility: hidden; opacity: 0; transition: opacity 0.3s, visibility 0.3s;
  &.is-visible{visibility:visible; opacity: 1}
}

.o-line{@include box(10%, 2px); background-color: #f2f2f2; display: inline-block;
  &.s--divider{width: 90%; margin: 5em auto; display: block;}
  &.t-dark{background-color:lighten($blackA, 80%)}
}

.o-image{overflow: hidden;
  // &.is-loaded{
  //   .o-image__cover{@include translateY(100%)}
  // }
  .is-booting &{
    .o-image__cover{@include animation(slideOutRight, 1, 1, $easeInOutExpo, both)}
  }
}
.o-image__cover{display: block; @include canvas; background-color:#161420; z-index:3; position: absolute; left:0; top:0}

.o-statistic{position: relative; margin:em(56) 0 em(144);
  span{font-weight: 600; display: block; font-size: em(36); color: $redA;}
  p{padding-top: em(24); padding-right: em(12); font-size:em(13); font-family: 'Georgia'; font-style: italic; line-height: 1.6;}
  figure{@include box(em(120), em(120)); @include bkg(grey); margin-left:1em; @include cover}
  section{text-align:center; width: 65%; margin: 0 auto; height: em(96)}
  &:after{@include after(200px, 200px, #f2f2f2); z-index: -1; @include prefix((transform:translateX(25%) rotate(45deg)))}
  .c-statistics &{
    &:after{@include bkg($blackC); opacity: 0.2}
  }
  .u-superscript{font-size: 40%; padding-left: 0.5em}
  &.s--figure{
    &:after{top: -28px}
  }
  &.s--doc{
    span{font-size: em(18); padding-right:em(0)}
    p{padding-top:em(12)}
    .o-icon{@include image('document.svg'); margin-bottom: em(12)}
  }
}

.o-networks{
  li{display: inline-block;}
  a{display: block;margin:em(2); @include clear; @include txnOpacity(0.2);
    &:hover{opacity: 0.5;}
  }
  i{display: inline-block; @include box(36px, 36px); float:left}
  span{display: inline-block; margin-left:em(12); padding-top:9px; color:$redA}
  .c-fb{@include image('social/facebook.svg')}
  .c-tw{@include image('social/twitter.svg')}
  .c-gplus{@include image('social/gplus.svg')}
  .c-pin{@include image('social/pinterest.svg')}
  .c-wa{@include image('social/whatsapp.svg')}

  &.t-light{
    .c-fb{@include image('social-white/facebook.svg')}
    .c-tw{@include image('social-white/twitter.svg')}
    .c-gplus{@include image('social-white/gplus.svg')}
    .c-pin{@include image('social-white/pinterest.svg')}
    .c-wa{@include image('social-white/whatsapp.svg')}
    .c-mail{@include image('social-white/mail.svg')}
  }
}

.o-story__header{background-color: $redC; color: $white;position: absolute; top:0; z-index: -2; float: left; height: 80%; width: 50%;
  .o-table__cell{vertical-align: bottom; padding-bottom: 2em}
  section{padding-left: 6em; padding-right:1.5em}
  &.s--partner{background-color: white}
  .is-booting &{@include animation(slideInLeft, 1, 0.5, $easeOutExpo, both)}
}
.o-story__cover{float: right; height: 100%; position: relative; z-index: -4; overflow: hidden;
  figure{background-color: $blackA; height: 100%; @include cover}
}
.o-story{
  .o-box{width: 50%}
  p{padding-bottom: em(24)}
  h3{padding-bottom: em(18); margin-top:em(20)}
  ol,ul{font-size: em(14); line-height: 1.8; width: 70%; padding: em(20) em(12)}
  ul{list-style:circle inside;}
  img{max-width:100%; height: auto; margin: em(24) 0}
  blockquote{font-weight:bold; font-size:1.25em; width: 75%; margin: 0 auto; padding:em(24) 0; margin-bottom:em(24)}
  ol{list-style: decimal inside}
  &.s--single{padding:4em 0 4em; font-size: em(20); font-weight: 300;
    p{line-height:1.8}
  }
  &.s--background{
    strong{color: $redA}
  }
  .o-imagelist{list-style: none; width: auto; padding: em(36) 0}
  .o-button{
    span{top: em(6)}
  }
  .wp-caption-text{font-family: 'Georgia'; font-style: italic; font-size:0.7em; padding:em(12) 1em em(24)}
  .wp-caption{margin:em(12) 0 em(24)}
}
.o-imagelist{;
  li{margin-bottom: em(24);}
}
.o-quote{text-align: center; width: 70%; @include center; padding-top:em(72);
  p{font-weight: 600; font-size: em(40); line-height: 1.3}
  div{padding-top: em(24); font-size: em(14);
    strong{display: block; padding-bottom: em(6)}
    em{display: block;}
  }
  .o-line{margin-top:2em;}
}
.o-slider__buttons{position: absolute; z-index: 20; bottom: 0; left: 0; font-size: 1.5em;
  .s--prev{transform: rotate(180deg)}
}
.o-slider{@include clear; color: $white;
  .o-slider-col{padding:em(96) 0;}
  .u-threefourth{background-color:#E5E5E5}
  .u-fourth{background-color:#D8D8D8;}
  .o-line{display: block; margin-top: 2em}
  em{font-size: em(14); line-height: 1.5}
  h2{padding-bottom: em(24)}

  .swiper-container{height:100%; background-position: center}
  .swiper-wrapper{@include prefix((transition-timing-function: cubic-bezier(0.63, -0.01, 0.15, 1)));
    @include device(xs){@include prefix((transition-timing-function:linear))}
  }
  .swiper-slide{
    span{display: none;}
  }
}
.o-slider__image{background-color: $blackA; width: 90%; float: right; height:em(576);
  figure{@include canvas; @include cover;}
}
.o-slider__caption{background-color: $blackB; height: 100%; width: 80%; float: left; position: relative}
.o-partners{@include clear;
  li{float: left; width: 20%; line-height:1.3}
  a{display: block;margin: em(9); position: relative; background-color: #fff;
    &:after{@include line}
    &:hover{
      &:after{@include scale2D(1,1)}
      figure{@include translateY(em(-24))}
    }
  }
  figure{@include canvas; padding-bottom: 40%; @include txnTransform(0.4, ease); @include contain}
  span{display: block; height:em(72); overflow: hidden;
    &.s--inline{height: auto;}
  }
  &.s--third{
    li{width: percentage(1/3)}
  }
}
.o-byline{font-size:0.75em; display: block; opacity:0.5; padding:0.5em 0}
.o-input{position: relative; margin-bottom:em(26);overflow: hidden;
  input,textarea,select{padding:em(12) 0 em(18);font-family: "acumin-pro",sans-serif; width: 100%;}
  select{color: lighten(grey, 3%)}
  span{@include box(100%, 2px); @include bkg($redA); display: block; bottom: 0; position: absolute; left:0; z-index:2}
  &:after{@include box(em(16), em(16)); content: ""; position: absolute; top: 0; left: 0; border:solid 2px $redB; @include prefix((transform: translate(0%, -120%) rotate(45deg))); @include txnTransform(0.3, $easeOutBack)}
  &.is-active{
    span{@include bkg($blackA)}
    &:after{@include prefix((transform: translate(0%, -75%) rotate(45deg)))}
  }
}

.o-olist{font-size: 0.875em;
  i{background-color: $redA; display: inline-block; @include box(em(24), em(24)); color: #fff; border-radius: 50%}
  strong{font-size: 0.875em; position: relative; left: 7px; top: 1px; font-weight: 400}
  span{position: relative; top: 3px; margin-left: em(12)}
  a{display: block; padding-bottom: 0.75em}
}
.o-article__grid{@include clear}
.o-article__row{@include clear}
.o-article{color: $white; margin-bottom:0; float: left; width:44em;
  a{display: block; @include clear}
  h2{font-weight: 600; font-size: 1.5em; padding-bottom: em(12); color: $white; line-height:1.25;
    a{
      &:hover{color: $white;}
      &:after{background-color: $white;};
    }
  }
  figure{@include box(em(360), auto); background-color: $blackA; float: left; padding-bottom: 65%; position: relative; @include txnOpacity(0.3); @include cover;
    a{position: absolute; @include canvas; @include cover; @include txnTransform(0.4,ease);
      &:hover{@include translateX(em(24));}
    }
    &:hover{opacity: 0.9}
  }
  .o-article__summary{@include bkg($redC); float: left; width:em(288); padding: em(14); position: relative; z-index: 4;left: em(-36);}
  .o-button{color: $white; padding-top:1.5em;}
  .o-line{margin: em(24) 0}
  &.s--left{margin-bottom: 4em;}
  &.s--bottom-left{width: em(360); float: right;
    .o-article__summary{float: none; left: auto; bottom: em(72);}
    figure{float: none; padding-bottom: 100%}
  }
  &.s--bottom-right{width: em(360);
    .o-article__summary{float: right; left: auto; bottom: em(72);}
    figure{float: none; padding-bottom: 100%}
  }
  &.s--right{float: right;
    .o-article__summary{float: right; left: auto; right:em(-36);}
    figure{float: right;}
  }
  .o-article__wrap{width: em(360); @include clear}
  .c-updates &{color: white;
    .o-article__summary{@include bkg($blackB)}
  }
  &.s--album{width: 50%;
    figure{width: 95%; padding-bottom: 50%;}
    .o-article__summary{@include bkg($blackB)}
    .o-article__wrap{width: 95%}
  }
}
.o-article__meta{font-size: 0.7em; text-transform: uppercase; color: $white; opacity: 0.8;
  a{display: block; padding: em(6) 0}
}
.o-closer{position: absolute; top: 0; right: 0; @include box(em(56),em(56)); background-color: $redA; z-index: 2; @include image('close.svg'); background-repeat: no-repeat; background-position: center; background-size: 50%; transition: background-color 0.3s;
  &:hover{background-color: darken($redA,10%)}
}
.o-player{position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden; max-width: 100%; height: auto;
  iframe, object, embed{position: absolute; top: 0; left: 0; width: 100%; height: 100%}
}
.o-cap{color: #903; float: left; font-size: em(84); line-height: 60px; padding: em(1) em(2) em(3) 0;background: url('images/pattern-2.png') repeat; -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-size:10%; font-weight:bold}

/*components*/
.c-spine{@include box(em(28), 100%); @include bkg(#fff); position: fixed; top: 0; left: 0; @include image('pattern-1.png'); background-size:200%; z-index:10}
.c-page__header{padding-top: em(36); @include absolute; width:100%; z-index: 5;
  .is-booting &{@include animation(fadeInDown,1,0.8,ease,both)}
}
.c-logo{@include box(170px, 66px); display:block; @include image('logo-white.svg'); @include contain; position: relative; top: -24px;
  &.t-dark {@include image('logo.svg');}
}

.c-deco{@include clear}
.c-deco__circle{@include box(7px,7px); border:solid 2px #CBCBCB; border-radius:50%; float: left}
.c-deco__dash{@include box(12px, 2px); @include bkg(#CBCBCB); float: left; @include relative; top: 5px; left: 20px}
.c-deco__line{@include box(89%, 6px); @include image('line-1.png'); background-size:contain; float: right; @include relative; top: 3px; opacity:0.5}

.c-menu-primary{text-align:right; @include relative; top: em(-14); font-size:em(14);color: #fff;
  li{display:inline-block}
  a{display:block;padding:0.75em; position: relative;
    &:after{@include line; width: 100%; @include prefix((transform-origin: 50% 50%))}
    &.is-active, &:hover{
      &:after{@include scale2D(1,1)}
    }
  }
  span{@include superscript; font-weight: bold}
  .t-dark &{color: $redA}
}

@keyframes strokeDashOffset{
  from {stroke-dashoffset:0}
  to {stroke-dashoffset:4000}
}
.c-splash__preloader{background-color:#c9c9c9; z-index: 100; @include canvas; position: fixed; @include txnTransform(1.2, cubic-bezier(0.5, 0, 0, 1.01));
  svg{stroke:darken(#dfdfdf,0%); display: block; fill: none; height: 30%; margin: 0 auto; stroke-width: 10px; stroke-dasharray:1000; @include animation(strokeDashOffset, 10, 0, linear, both)}
  
  &.is-loaded {@include translateX(100%)}
}
.c-splash{@include box(100%, 75%); background-position: right -60%; background-size:50%; background-repeat: no-repeat; position: relative; background-color:#231F20; overflow: hidden;
  .o-button{padding-top: em(30); font-size: 1em}
  .o-table{position: absolute; z-index: 2}
  .o-table__cell{vertical-align: bottom; padding-bottom:3em}
  .o-box{@include clear}
  .swiper-container{height: 100%}
  p{padding-top:em(12); width: 90%}

  &.is-loaded{
    .c-splash__tint{opacity:1}
    .c-splash__story{@include animation(slideInUp, 1,0.4, $easeInThief, both)}
    .c-splash__image{@include animation(slideInUp, 1,0.3, $easeInThief, both)}
    figure{@include animation(kenBurns, 90, 0, linear, both)}
  }
}
.c-splash__tint{opacity:0; background:linear-gradient(45deg, #000000, rgba(0, 0, 0, 0) 70%); @include canvas; z-index:1; position: absolute; @include prefix((transition:opacity 1s ease 0.5s))}
.c-splash__image{width: 100%; height: 100%; position: relative; z-index:1; overflow:hidden; background-color: $blackA;
  figure{height: 100%; @include cover; position: relative; opacity:0.8}
}

.c-highlights{height:25%; overflow:hidden; position: relative; color: $white;
  section{float:left; width:70%; padding-top:em(24)}
  h2{font-size: 1em}
  .o-button{padding-top:em(30)}
  .u-half{
    &:first-child{
      .u-wrap{padding-left:0}
    }
    &:last-child{
      .u-wrap{padding-right:0}
    }
  }
  .o-rhombus{float: right; filter:grayscale(100%); width: 25%; height:auto;
    .o-rhombus__image{padding-bottom:100%}
    &:hover{
      @include rhombusHover; filter: grayscale(0);
    }
  }
  &.is-loaded {
    .u-half{@include animation(fadeInUp,1,0.6,ease, both)}
  }
}
.c-paginator{overflow: hidden; padding: em(48) 0; position: relative; z-index: 3}
.c-paginator__button{display: inline-block; color: $redA; float:left; position: relative; @include clear;
  .o-rhombus{float:left; margin-left: em(-96);}
  .o-rhombus__image{filter: grayscale(100%)}
  i{display: block; @include box(em(68), em(48)); float: left; background: $redA}
  .o-arrow{float: left; width: em(68); height:em(48)}
  span{float: left; position: relative; top: em(15); margin-left: em(16); @include txnTransform(0.5, ease)}
  div{float: left; position: relative; top: em(96)}

  &.s--left{
    .o-rhombus__image{
      &:before{@include prefix((transform: rotate(45deg) translate(100%, -100%)))}
      &:after{left: auto; right:0; @include prefix((transform-origin: 100% 0%))}
    }
  }
  &.s--right{float: right; @include prefix((transform: translateX(10%)));
    .o-rhombus{margin-right: em(-96); margin-left: auto;}
    /*figure{@include prefix((transform: translateX(40%) rotate(45deg)));}*/
    span{margin-left: auto; margin-right: em(16)}
  }
  
  &:hover, &.is-active{color: black;
    .o-arrow{stroke-dashoffset: 70}
    .o-rhombus__image{filter:grayscale(0%)}
    &.s--left{
      span{@include translateX(em(-24))}
       .o-rhombus{@include translateX(em(30))}
       .o-rhombus__image{@include translateX(-12px);
          &:before{@include prefix((transform: rotate(45deg) translate(58%, -58%)))}
          &:after{@include scale2D(1,1)}
       }
    }
    &.s--right{
      @include rhombusHover;
      span{@include translateX(em(24))}
      .o-rhombus{@include translateX(em(-30))}
    }
  }
}

.c-paginator__labels{position: absolute; width: 50%; text-align: center; z-index: 1; top: 19%; left: 25%; 
  a{display: inline-block; font-family: "Times New Roman", Times, serif; font-style: italic; padding: 6em 3em; @include txnTransform(0.7, ease); color: #b7b7b7; 
    &:hover{color: $redA;
      &.js-paginator__prev{@include translateX(em(-12))}
      &.js-paginator__next{@include translateX(em(12))}
    }
  }
  span{left: 40%; display: block; position: absolute; @include prefix((transform: rotate(-45deg))); width: em(172); height: 1px; background-color: #dedede; top: 45%; @include txnTransform(0.6, $easeOutExpo);
    &.is-left{@include prefix((transform: rotate(45deg)))}
  }
}
.c-page__footer{position: relative; font-weight: 300; padding: em(96) 0 em(96); @include image('globe.svg'); background-repeat:no-repeat; background-position:center top; background-size:130%; z-index: 20; 
  .o-box{width:80%}
  h1{font-size: em(28); font-weight: 500; letter-spacing: 0; padding-bottom: em(54)}
  h3,h4{font-weight: 500}
  form{@include clear;
    $color: #bd779a;
    ::-webkit-input-placeholder {color: $color}
    ::-moz-placeholder {color: $color}
    :-ms-input-placeholder{color: $color}
    :-moz-placeholder {color: $color}
  }
  input{color: $white;
    &:focus{border-color: $white;}
  }
  .o-circle__inner{stroke: #dedede}
  .c-cta{ border-bottom:solid 1px #b93c7a; padding-bottom: em(84); margin-bottom: em(72)}
}
/*.c-globe__wrap{position: absolute; top:0; width: 100%; z-index: -1; height: 200%}
.c-globe{width: 100%; height: 100%; @include image('globe.svg'); background-size: cover; background-position: center top; background-repeat: no-repeat; margin: 0 auto;}*/
.c-cta{@include clear; text-align: center;
  h3{text-align: center; margin-bottom: em(24)}
  input{border-radius: 24px; border: solid 2px #e081b0; padding: em(9) em(18); width: 75%; float: left}
  button{width: 36px; height: 36px; border:none; float: left; position: relative; left: 6px; background-color: transparent;}
  .o-button{font-size: em(16); padding-top: 0;
    i{border-width: 2px}
  }
}
.c-sitemap{
  ul{list-style: circle}
  li{font-size: 0.875em; line-height:1.4}
  a{padding-top:em(6); display: inline-block; @include txnOpacity(0.4);
    &:hover{opacity:0.7}
  }
  section{padding: em(6)}
  h4{margin-bottom: em(24); position: relative; left: em(-18)}
  strong{display: inline-block; margin-right: em(6)}
}
.c-cover{height: 100%; position: relative; z-index:1;
  h1{padding-bottom: em(16)}
  .u-half{height: 100%; position: relative; overflow: hidden;}
  &.s--story{height:70%}
  .o-table{background-position: right top; background-size: 100%; background-repeat: no-repeat;}
  
  &.s--bkg{
    &:after{content:""; @include canvas; top:0; left:0; z-index: -2; position: absolute;}
  }

  &#profile{
    &:after{background-color: #75003a;}
    .c-cover__bkg{@include image('illustrations/profile.jpg'); background-position:center; background-size:cover;}
  }

  &#contact{
    &:after{background-color: #f5f5f5;}
    .c-cover__bkg{@include image('illustrations/contact.jpg'); background-position:right top; background-size:contain; opacity:0.3}
  }
}

.c-cover__bkg{@include canvas; position: absolute; z-index:-1; top:0; left:0; background-repeat: no-repeat;
  .is-booting &{@include animation(slideInUp, 1,0.7,$easeInThief, both)}
}
.c-about{
  .o-box{width: 60%; text-align: center;}
  .o-line{margin:em(36) 0;}
  .o-button{color:$white;}
  section{width: 85%; @include center}
  .o-table__cell{vertical-align: bottom; padding-bottom: 3em}
  .is-booting &{
    .o-table{@include animation(slideInUp, 1,0.9,$easeInThief, both)}
  }
}
.c-cover__image{height: 100%; @include cover; background-color:$blackA}
.c-cover__profile{background-color: $redC;
  .o-button{color: inherit}
  .o-table__cell{padding-bottom: 6em; vertical-align: bottom}
  &.s--single{background-color: #EFF0F0; color: $blackB; 
    .o-table__cell{background-color: rgba(239, 241, 240, 0.75)}
  }
}
.c-cover__section{padding: 0 em(24); width: 80%;
  .is-booting &{@include animation(fadeInLeft,1,0.8,ease,both)}
}

.c-program__meta{font-size: em(14); @include clear; border:solid 1px #e6e6e6; border-right: none; border-left: none; padding: 1.5em 0;
  span{display: block; padding: em(6) 0}
  .u-uppercase{font-weight:600}
}
.c-program__map{height: 650px;}
.c-program__cta{padding-top: 3em; text-align: center;
  .o-button{width: em(175)}
  .o-line{margin-top: 3em;}
}
.c-values{position: absolute; @include canvas; top:0; z-index: 1;
  h3{margin-bottom: em(24)}
  section{padding-top: em(24)}
  .o-line{margin-top: em(24)}
  .o-value{width: em(576); @include clear; position: absolute; text-align: left;}
  .o-rhombus{@include center; @include cover;}
  .s--one{top: -10%; right:-30%}
  .s--two{top: 30%; left:-25%;
    .u-half{float:none;}
    .o-rhombus{margin-left:0;}
  }
  .s--three{bottom: -10%; left:35%}
}

.c-orbit{@include box(em(720), em(720)); border: solid 1px $redA; border-radius: 50%; position: relative; @include center; text-align: center;}
.c-orbit__sun{@include box(em(240), em(240)); border-radius: 50%; background-color: $redC; display: inline-block;}

.c-regions__col{position: relative;}
.c-regions__image{height: em(700); width: em(256); position: absolute; bottom:0; left:30%; @include contain}
.c-regions__map{height: em(408); @include image('east-africa-spotlight.png'); background-size: contain; background-repeat: no-repeat}
.c-regions{
  .o-rhombus__pattern{height:60%; opacity:0.3}
}
.c-history{text-align: center; width: 60%; @include center;
  h1{color: $redA; font-size: em(300); padding-bottom: 0; margin-bottom: 0}
  span{font-weight: 600; font-size:em(20); color: $redA; display: block;}
  header{position: relative; margin-top:em(-56); margin-bottom: em(48);
    span{margin-top: em(-16);}
  }
  figure{position: absolute; right:-20%; @include box(em(240), em(360)); top:10%; @include image('illustrations/farmer.png'); @include contain}
}
.c-contact{@include clear;
  div{float: left; width: 50%}
  .s--textarea{width:100%; margin-bottom:em(6)}
  button{border:none; background:none}
  .o-button{margin-top:em(16); font-size:em(16)}
}
.c-contact__section{padding-top:12em; padding-left:6em;
  section{padding-bottom:em(36)}
  h3{padding-bottom:em(16)}
  .is-booting &{
    &.s--form{@include animation(slideInLeft,1,0.7,$easeInThief, both)}
    &.s--info{@include animation(slideInLeft,1,0.8,$easeInThief, both)}
  }
}
.c-contact__tint{position: absolute; top:0; left: 0; @include canvas; background-color: rgba(255, 255, 255, 0.69)}
.c-docs{
  .o-statistic{display: block; margin: auto; padding:2em 0;
    &:after{display:none}
    &:hover{
      &:after{@include prefix((transform: translate(0, 2.5em) rotate(90deg)))}
      .u-half:first-child{@include translateY(em(-36));
        &:after{@include scale2D(1,1)}
      }
    }
  }
  .u-half{
    &:after{@include line; bottom:-3px}
    &:first-child{@include txnTransform(0.5, ease)}
  }
}
.c-sectionator{position: fixed; z-index: 2; right: em(16); height: 100%; text-align: center; font-size: 1.125em; transition: color 0.3s, opacity 1s; color: $blackA;
  a{display: inline-block;}
  &.is-active{color: $redA;
    svg{stroke: $redA}
  }
}
.c-sectionator__button{padding: em(6);
  span{@include box(em(12), em(12)); border:solid 2px; transform: rotate(45deg); @include txnTransform(0.3, $easeOutBack); position: relative; display: block;
    &:after{content:""; @include canvas; background-color: $blackA; position: absolute; top: 0; left: 0; @include txnTransform(0.5, ease); @include scale2D(0,0);
      .is-active &{background-color: $redA}
    }
  }

  &:hover{
    span{@include prefix((transform: rotate(0)));
      &:after{@include scale2D(1,1)}
    }
  }
}
.c-hamburger{top:40%; right:1.5em; width: em(56); height: em(56); z-index: 2; position: fixed; border:solid 2px $redA; margin-bottom: em(9); overflow: hidden; border-radius: 50%;  visibility: hidden; opacity: 0; transition: opacity 0.3s, visibility 0.3s;
  
  svg{@include box(em(48), em(48)); fill:none; stroke: $redA; stroke-width:1; position: relative; z-index: 1; @include txnTransform(0.3, ease); display: block; @include center; top: 2px;}
  line{stroke-dasharray: 15; @include prefix((transition: stroke-dashoffset 0.3s))}
  span{display: block; font-size: 9px; font-weight: bold; opacity: 0.8; position: relative; z-index: 2}
  
  &.is-visible{visibility: visible; opacity: 1}
/*  &:after{content: ""; position: absolute;@include canvas; top:0; left: 0; @include resetPivot; @include scale2D(0,0); @include txnTransform(0.6, $easeOutExpo); background-color: $redB}*/
  
  &:hover{color: $white; border-color: $redB; background-color: $redB;
/*    &:after{@include scale2D(1,1)}*/
    svg{@include translateX(em(-3)); stroke: $white;}
    line{
      &:first-child{stroke-dashoffset: 5;}
      &:last-child{stroke-dashoffset: 10;}
    }
  }
}
.c-menu-secondary{background-color: #231f20; width: 40%; position: fixed; right: 0; top:0; z-index: 30; height: 100%; overflow: scroll; @include txnTransform(0.7, cubic-bezier(0.42,-0.01, 0, 1)); @include translateX(100%);
  h3{padding-bottom: 1.5em}

  &.is-visible{@include translateX(0%)}
  ul{font-size: 1.5em;color: white}
}
.c-menu-secondary__item{border-bottom:solid 1px #353233;
  a{display: block; padding: em(26) 0; position: relative; overflow: hidden; padding-left: 1em;
    &:hover{
      figure{@include translateY(0)}
      span{@include translateY(em(12))}
    }
  }
  span{position: relative; z-index: 2; display: block; @include txnTransform(0.3, ease)}
  figure{@include canvas; position: absolute; background-color: red; top: 0; left: 0; @include txnTransform(0.5, cubic-bezier(0.6,-0.01, 0.2, 0.99)); @include translateY(-100%); z-index: 0; @include cover; opacity: 0.6; filter: grayscale(100%);}
}


.c-impact{text-align: center;
  h1{width:50%; @include center}
}
.c-impact__summary{width: 50%; @include center; text-align: center}
.c-implementers{@include image('ea-map.png'); height: 705px; @include contain;
  &.s--programs{height: 600px}
}
.c-team{text-align:center; padding-bottom: 0;
  header{width: 50%; @include center; padding-bottom: 4em}
  ul{@include clear; text-align: left}
  figure{width: em(96); height: em(96)}
  section{top: em(36)}
  .o-author{padding-bottom:1em}
}

.c-preloader{position: fixed; top:0; left:0; @include canvas; z-index: 120; color: #8D5669; visibility: hidden; @include txnTransform(0.5, ease); overflow: hidden;
  .o-table{position: absolute; z-index: 2;}
  .o-line{position: absolute; bottom:4em; background-color: #8d5669; width: 5%; height: 4px; left: 7%; z-index: 2; @include resetPivot}
  &.is-appearing{visibility: visible;
    .c-preloader__bkg{@include animation(slideInLeft, 0.8, 0, $easeOutQuart, both)}
    .c-preloader__count{@include animation(slideInLeft, 1, 0, $easeOutQuart, both)}
    .c-preloader__title{@include animation(slideInLeft, 0.9, 0, $easeOutQuart, both)}
    .o-line{@include animation(scaleInLeft, 0.5, 0.3, $easeOutQuart, both)}
  }
  &.is-exiting{visibility: visible; @include animation(slideOutRight, 0.5, 0, ease, both)}
}
.c-preloader__title{color:#8D5669; width: 80%; position: absolute; z-index: 5; top: 45%; @include clear;
    span{display: block; width: 50%; float: left; text-transform: capitalize;}
    figure{width: em(56); height: em(56); float: right; background-color: #484848; border-radius: 50%;}
}
.c-preloader__bkg{@include canvas; position: absolute; top:0; left:0; @include resetPivot; background-color:#D888A3}
.c-preloader__count{position: absolute; font-size: 77vw; font-weight: bold; left:-24vw; top: -32vh; color:#D1849E; z-index: 1}

#barba-wrapper{@include box(100%, 100%)}
.barba-container{@include box(100%, 100%)}

/*states*/
.is-invisible{opacity: 0; visibility: hidden;}
